% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/interpret.R
\name{interpret_tool}
\alias{interpret_tool}
\title{Interpret Enrichment Results using Large Language Models}
\usage{
interpret_tool(
  enrich_res,
  database,
  diff_genes,
  context = NULL,
  contact_LLM = FALSE,
  pathway_num = NULL,
  ppi = TRUE,
  ppi_limit = NULL,
  organism = "hsa",
  base_url,
  api_key,
  model
)
}
\arguments{
\item{enrich_res}{Enrichment analysis result object. Accepts standard
\code{clusterProfiler} enrichment objects (e.g., \code{enrichResult})
and \code{compareClusterResult} objects for multi-group analyses.}

\item{database}{Character string specifying the annotation database used
(e.g., "KEGG", "GO_BP", "Reactome"). Must match the database used in
\code{enrich_res}.}

\item{diff_genes}{Named numeric vector of differentially expressed genes.
Genes must be sorted by log2FC in descending order. Format:
\preformatted{
       c(GeneA = 3.2, GeneB = 2.5, GeneC = -1.8)
       }
Typically generated with:\cr
\code{sort(de_results$log2FoldChange, decreasing = TRUE)}}

\item{context}{Optional biological context string (e.g., "breast cancer",
"liver tissue") to guide LLM interpretation. Default = \code{NULL}.}

\item{contact_LLM}{Logical indicating whether to contact LLM API.
When \code{FALSE}, returns constructed prompts. Default = \code{TRUE}.}

\item{pathway_num}{Maximum number of significant pathways to include.
If \code{NULL}, uses all pathways in \code{enrich_res}. Default = \code{NULL}.}

\item{ppi}{Logical indicating whether to incorporate protein-protein
interaction data. Default = \code{TRUE}.}

\item{ppi_limit}{Maximum number of genes to include in PPI network.
Applied when \code{ppi = TRUE}. If \code{NULL}, uses all genes in
\code{names(diff_genes)}. Default = \code{NULL}.}

\item{organism}{Organism identifier in standard format (e.g., \code{"hsa"}
for human, \code{"mmu"} for mouse). Default = \code{"hsa"}.}

\item{base_url}{LLM API endpoint URL. Required when \code{contact_LLM = TRUE}.}

\item{api_key}{API key for LLM authentication. Required when
\code{contact_LLM = TRUE}.}

\item{model}{LLM model identifier (e.g., \code{"gpt-4-turbo"}). Required when
\code{contact_LLM = TRUE}.}
}
\value{
If \code{contact_LLM = TRUE}:
\itemize{
\item Single enrichment input: Character string containing LLM interpretation
\item Multi-group input (\code{compareClusterResult}): Named list of
interpretation strings (names = cluster IDs)
}
If \code{contact_LLM = FALSE}: Returns prompt(s) as character strings
ready for API submission.
}
\description{
Processes enrichment results and optionally generates pathway interpretations
using an LLM API. Includes PPI network construction and context integration.
}
\examples{
\dontrun{
# Single enrichment interpretation
interpret_tool(
  enrich_res = kegg_result,
  database = "KEGG",
  diff_genes = c(CD4 = 2.1, IL6 = 1.8, ...),
  base_url = "https://api.openai.com/v1",
  api_key = "your_api_key",
  model = "gpt-4-turbo"
)

# Multi-group interpretation
interpret_tool(
  enrich_res = compareCluster_result,
  database = "GO",
  diff_genes = c(TP53 = 3.5, MYC = 2.8, ...),
  pathway_num = 30,
  context = "Lung adenocarcinoma scRNA-seq",
  base_url = "https://api.anthropic.com/v1",
  api_key = "claude_key",
  model = "claude-3-opus"
)}
}
